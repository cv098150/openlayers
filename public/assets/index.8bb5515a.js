import{O as f,T as g,M as h,V as w,f as L,X as b,a as p,b as m,D as S,G as y}from"./vendor.a22294a1.js";const v=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}};v();let o=new f,c=new g({source:o});const u=new h({layers:[c],target:"map-container",view:new w({center:L([0,0]),zoom:2})});let i=document.getElementById("change");i.addEventListener("click",function(a){if(i.getAttribute("data-type")=="XYZ"){const n="xa04PgV20nbT2LNRdFnA",s='<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>';o=new b({url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key="+n,attributions:s,crossOrigin:"anonymous",tileSize:512}),c.setSource(o),i.setAttribute("data-type","OSM")}else o=new f,c.setSource(o),i.setAttribute("data-type","XYZ")});let d=document.getElementById("draw");d.addEventListener("click",function(a){let e=d.getAttribute("data-status");d.setAttribute("data-status","true"),e&&(o=new p,c=new m({source:o}),u.addLayer(c),u.addInteraction(new S({type:"Polygon",source:o})))});let E=document.getElementById("clear");E.addEventListener("click",function(){o.clear()});let O=document.getElementById("save"),k=new y({featureProjection:"EPSG:3857"});O.addEventListener("click",function(a){let e=o.getFeatures(),n=k.writeFeatures(e);B(n)});let P=document.getElementById("show");P.addEventListener("click",function(a){let e=JSON.parse(j()),n=new m({source:new p({features:new y().readFeatures(e,{dataProjection:"EPSG: 3857",featureProjection:"EPSG: 3857"})})});u.addLayer(n)});function B(a){let e=JSON.stringify(a);fetch("../api/index.php",{method:"POST",cache:"no-cache",body:e}).then(n=>n.json()).catch(n=>console.error("Error:",n)).then(function(s){alert(s.msg)})}function j(){return fetch("../api/index.php").then(function(e){if(e.status!==200){console.log("Looks like there was a problem. Status Code: "+e.status);return}e.json().then(function(n){return n})}).catch(function(e){console.log("Fetch Error :-S",e)})}
//# sourceMappingURL=index.8bb5515a.js.map
